<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Fare Service Editor</title>
    <script type="text/javascript" src="content/components/jquery/jquery-1.7.1.js"></script>
    <script type="text/javascript" src="content/components/knockoutjs/knockoutjs-3.0.0.js"></script>

    <script type="text/javascript" src="content/js/utils.js"></script>
    <script type="text/javascript" src="content/js/FSEditor.js"></script>

    <script type="text/javascript" src="content/js/FSEditor.sample-data.js"></script>
</head>
<body>
    <div id="fs-editor-root">
        <ul data-bind="foreach: Service">
            <li>
                <a href="#" data-bind="click: function () { $root.removeFareStageAt($index()); }">del</a>
                <a href="#" data-bind="visible: $root.canMoveFareStageUp($index()), click: function () {$root.moveFareStageUp($index()); }">UP</a>
                <a href="#" data-bind="visible: $root.canMoveFareStageDown($index()), click: function () {$root.moveFareStageDown($index()); }">DOWN</a>
                <input type="text" data-bind="value: FareStage.Title" />
                <ul data-bind="foreach: Stops">
                    <li>
                        <a href="#" data-bind="click: function () { $root.removeBusStopFromFareStageAt($parentContext.$index(), $index()); }">XX</a>
                        <input type="text" data-bind="value: BusStop.Title" />
                        <a href="#" data-bind="visible: $root.canMoveBusStopUp($parentContext.$index(),$index()), click: function () {$root.moveBusStopUp($parentContext.$index(), $index()); }">UP</a>
                        <a href="#" data-bind="visible: $root.canMoveBusStopDown($parentContext.$index(),$index()), click: function () {$root.moveBusStopDown($parentContext.$index(), $index()); }">DOWN</a>
                        (<select data-bind="value: Direction, options: $root.Directions"></select>)
                    </li>
                </ul>
            </li>
        </ul>
    </div>
    <script type="text/javascript">
        $(function () {
            var fsEditor = CreateSampleFSEditor();
            ko.applyBindings(fsEditor, document.getElementById("fs-editor-root"));
        });
    </script>
</body>
</html>
